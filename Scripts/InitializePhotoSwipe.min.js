var initPhotoSwipeFromDOM=function(n,t){for(var r,s=function(n){for(var h=n.childNodes,a=h.length,c=[],r,i,e,l,o,u,s=0;s<a;s++)(r=h[s],r.nodeType===1)&&f(t.selectedClass,r)&&(i=r.children[0],e=i.getAttribute("data-size").split("x"),o=i.getAttribute("data-limit").split("x"),l=i.getAttribute("data-title"),u={src:i.getAttribute("href"),sizew:parseInt(e[0],10),sizeh:parseInt(e[1],10),limitw:parseInt(o[0],10),limith:parseInt(o[1],10),html:i.getAttribute("data-html"),title:l},i.children.length>0&&(u.msrc=i.children[0].getAttribute("src")),u.el=r,c.push(u));return c},f=function(n,t){var i;if(n){var u=t.getAttribute("class"),r=u.split(" ");for(i=0;i<r.length;++i)if(r[i]==n)return!0;return!1}return!0},e=function e(n,t){return n&&(t(n)?n:e(n.parentNode,t))},h=function(n){var h,r,i;if(n=n||window.event,n.preventDefault?n.preventDefault():n.returnValue=!1,h=n.target||n.srcElement,r=e(h,function(n){return n.tagName&&n.tagName.toUpperCase()==="FIGURE"}),r){var l=r.parentNode,u=r.parentNode.childNodes,a=u.length,c=0,s;for(i=0;i<a;i++)if(u[i].nodeType===1&&f(t.selectedClass,u[i])){if(u[i]===r){s=c;break}c++}return s>=0&&o(s,l),!1}},c=function(){var u=window.location.hash.substring(1),n={},i,t,r;if(u.length<5)return n;for(i=u.split("&"),t=0;t<i.length;t++)i[t]&&((r=i[t].split("="),r.length<2)||(n[r[0]]=r[1]));return(n.gid&&(n.gid=parseInt(n.gid,10)),!n.hasOwnProperty("pid"))?n:(n.pid=parseInt(n.pid,10),n)},o=function(n,i,r){function l(n){var r=n.getBoundingClientRect(),t=document.body,i=document.documentElement,u=window.pageYOffset||i.scrollTop||t.scrollTop,f=window.pageXOffset||i.scrollLeft||t.scrollLeft,e=i.clientTop||t.clientTop||0,o=i.clientLeft||t.clientLeft||0,s=r.top+u-e,h=r.left+f-o;return{top:Math.round(s),left:Math.round(h)}}var c=document.querySelectorAll(".pswp")[0],u,f,e,a,v,o,h;f=s(i);t.index=n;t.galleryUID=i.getAttribute("data-pswp-uid");t.getThumbBoundsFn=function(n){var i=f[n].el.getElementsByTagName("img")[0],r=window.pageYOffset||document.documentElement.scrollTop,t=i.getBoundingClientRect();return{x:t.left,y:t.top+r,w:t.width}};r&&(t.showAnimationDuration=0);u=new PhotoSwipe(c,PhotoSwipeUI_Cascade,f,t);t.phone&&u.listen("close",function(){window.history.back()});t.flip&&u.listen("beforeChange",function(n){if(n){var t=u.items[u.getCurrentIndex()-n];t.flipped&&($(".card-container").flip(),t.flipped=!1)}});u.listen("afterChange",function(){var r=document.getElementById("cascade-caption"),f=document.getElementsByClassName("pswp__container")[0],t=u.currItem.el,i,n;t&&(i="",n=l(t),i+="x="+n.top+", y="+n.left+"\n\r")});a=!1;v=!0;u.listen("beforeResize",function(){e=u.viewportSize.y*window.devicePixelRatio;u.invalidateCurrItems()});o=function(n){return n<=100?100:n<=200?200:n<=400?400:n<=800?800:n<=1200?1200:n<=1600?1600:n<=2400?2400:n<=3200?3200:n};h=function(n){var t,i,r;n.limith<=0&&n.limitw<=0||(t=n.limitw/n.w,i=n.limith/n.h,(t<1||i<1)&&(r=1,r=t<=0?i:i<=0?t:i<t?i:t,n.h=n.h*r,n.w=n.w*r))};u.listen("gettingData",function(n,t){var s,r,f;if(t.src){s=t.sizew/t.sizeh;t.h=Math.min(o(e),t.sizeh);t.w=t.h*s;h(t);var c=t.src.split("?"),l=c[0],u=c[1],i=[];if(u)for(i=u.split("&"),r=i.length-1;r>=0;--r)f=i[r].split("=")[0].trim().toLowerCase(),(f=="width"||f=="height")&&i.splice(r,1);i.push("width="+~~t.w);i.push("height="+~~t.h);u=i.join("&");t.src=l+"?"+u}});u.init()},u=document.querySelectorAll(n),i=0,l=u.length;i<l;i++)u[i].setAttribute("data-pswp-uid",i+1),u[i].onclick=h;r=c();r.pid>0&&r.gid>0&&o(r.pid-1,u[r.gid-1],!0)};
//# sourceMappingURL=InitializePhotoSwipe.min.js.map
